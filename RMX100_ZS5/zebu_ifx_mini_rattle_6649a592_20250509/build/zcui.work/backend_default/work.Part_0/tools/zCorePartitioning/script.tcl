# Generated by zCoreBuild
#
set ZEBU_CORE_NAME Part_0

read_zbtf tools/zCorePartitioning/netlist.zbtf

source $env(ZEBU_ROOT)/etc/zcorepartitioning/zCorePartitioning.tcl

# qiwc
set_module_resource zfwc_qiwc* REG 0.1
set_module_resource zfwc_qiwc* LUT 0.3
set_module_resource zfwc_qiwc* LUT6 0.3
# target filling rate (max + overflow) -- zCoreXClustering
set fpga_filling_rate_lut     35
set fpga_filling_rate_reg     27
set fpga_filling_rate_ram     64
set fpga_filling_rate_uram    45
set fpga_filling_rate_dsp     60
set fpga_filling_rate_ramlut  35
set fpga_filling_rate_lut6    28
set fpga_filling_rate_fwcip_num  85
set fpga_filling_rate_fwcip_bits 35
set fpga_filling_rate_qiwc_bits 65
set fpga_filling_rate_read_port_ips 100
set fpga_filling_rate_read_port_bits 100
set fpga_filling_rate_write_port_ips 100
set fpga_filling_rate_write_port_bits 100
set fpga_filling_rate_zc_trace_bit 100
set fpga_filling_rate_zview 100
set fpga_filling_rate_zcei_message_in 95
set fpga_filling_rate_zcei_message_out 95
set fpga_filling_rate_fw_resources 100
set fpga_filling_rate_zprd_bb 100

# target filling rate (max + overflow)
set_filling_rate -max LUT     35
set_filling_rate -max REG     27
set_filling_rate -max RAM     64
set_filling_rate -max URAM    45
set_filling_rate -max DSP     60
set_filling_rate -max RAMLUT  35
set_filling_rate -max LUT6    28
set_filling_rate -max FWC_IP_NUM  85
set_filling_rate -max FWC_IP_BITS 35
set_filling_rate -max QIWC_IP_BITS 65
set_filling_rate -max READ_PORT_IPS 100
set_filling_rate -max READ_PORT_BITS 100
set_filling_rate -max WRITE_PORT_IPS 100
set_filling_rate -max WRITE_PORT_BITS 100
set_filling_rate -max ZC_TRACE_BIT 100
set_filling_rate -max ZVIEW 100
set_filling_rate -max ZCEI_MESSAGE_INPUT 95
set_filling_rate -max ZCEI_MESSAGE_OUTPUT 95
set_filling_rate -max FW_RESOURCES 100
set_filling_rate -max ZPRD_BB 100
set_filling_rate -max ZFORCE 100
set_filling_rate -max ZVIEW 100

set_nb_bits_per_fwc_ip 384

# filling rate for extra overflow
set_filling_rate -overflow LUT     0
set_filling_rate -overflow REG     0
set_filling_rate -overflow RAM     0
set_filling_rate -overflow URAM    0
set_filling_rate -overflow DSP     0
set_filling_rate -overflow RAMLUT  0
set_filling_rate -overflow LUT6    0
set_filling_rate -overflow FWC_IP_NUM  0
set_filling_rate -overflow FWC_IP_BITS 0
set_filling_rate -overflow QIWC_IP_BITS 0
set_filling_rate -overflow READ_PORT_IPS 0
set_filling_rate -overflow READ_PORT_BITS 0
set_filling_rate -overflow WRITE_PORT_IPS 0
set_filling_rate -overflow WRITE_PORT_BITS 0
set_filling_rate -overflow ZC_TRACE_BIT 0
set_filling_rate -overflow ZVIEW 0
set_filling_rate -overflow ZCEI_MESSAGE_INPUT 0
set_filling_rate -overflow ZCEI_MESSAGE_OUTPUT 0
set_filling_rate -overflow FW_RESOURCES 0
set_filling_rate -overflow ZPRD_BB 0
set_filling_rate -overflow ZFORCE 0
set_filling_rate -overflow ZVIEW 0

set_xtor_anchor_terminal_fpga U0_M0_F00

use_fpga U0_M0_F00
use_fpga U0_M0_F01
use_fpga U0_M0_F02
use_fpga U0_M0_F03
use_fpga U0_M0_F04
use_fpga U0_M0_F05
use_fpga U0_M0_F06
use_fpga U0_M0_F07
use_fpga U0_M0_F08
use_fpga U0_M0_F09
use_fpga U0_M0_F10
use_fpga U0_M0_F11
# false paths

set_lut_weighting 1 0.0

set_primitive_resource fd*e*   LUT      0.028890
set_primitive_resource ld*e*   LUT      0.028890
save_defmapping zCoreBuild_AC_defmapping.tcl

enable xdraware 
source {tools/zCorePartitioning/constraints.tcl}

# Defgroup commands

# Defmapping commands
defmapping {zebu_top.trigger_pc} U0_M0_F0
defmapping {zebu_top.ts_runman_0} U0_M0_F0
defmapping {zebu_top.ts_runman_1} U0_M0_F0
defmapping {zebu_top.ts_runman_2} U0_M0_F0
defmapping {zebu_top.ts_runman_3} U0_M0_F0
defmapping {zebu_top.ts_runman_4} U0_M0_F0
defmapping {zebu_top.ts_runman_5} U0_M0_F0
defmapping {zebu_top.ts_runman_6} U0_M0_F0
defmapping {zebu_top.ts_runman_7} U0_M0_F0
defmapping {zebu_top.ts_runman_8} U0_M0_F0
defmapping {zebu_top.zebu_orion_tickClk_inst} U0_M0_F0
defmapping {zebu_top.zebu_time_capture} U0_M0_F0
defmapping {zebu_top.zebuclk_jtag_clk} U0_M0_F0
defmapping {zebu_top.zebuclk_ref_clk} U0_M0_F0
defmapping {zebu_top.zebuclk_uart_sclk} U0_M0_F0



save_defmapping zCoreBuild_AC_incremental_defmapping.tcl -incremental -block zCoreBuild_AC_incremental_interco.txt 
set_arch -product zs5 -fpga V8
defZRMInstance -path zebu_top.core_chip_dut.icore_sys.ialb_mss_mem.u_rgon0_mem_inst.u_alb_mss_mem_ram.mem_r -width 128 -depth 268435456 -ports 1 
defZRMBank -loc U0_M0_F00 -depth 67108864 -width 256 -ports 8 
defZRMBank -loc U0_M0_F01 -depth 134217728 -width 1024 -ports 8 
defZRMBank -loc U0_M0_F02 -depth 67108864 -width 256 -ports 8 
defZRMBank -loc U0_M0_F03 -depth 67108864 -width 256 -ports 8 
defZRMBank -loc U0_M0_F04 -depth 134217728 -width 1024 -ports 8 
defZRMBank -loc U0_M0_F05 -depth 67108864 -width 256 -ports 8 
defZRMBank -loc U0_M0_F06 -depth 67108864 -width 256 -ports 8 
defZRMBank -loc U0_M0_F07 -depth 134217728 -width 1024 -ports 8 
defZRMBank -loc U0_M0_F08 -depth 67108864 -width 256 -ports 8 
defZRMBank -loc U0_M0_F09 -depth 67108864 -width 256 -ports 8 
defZRMBank -loc U0_M0_F10 -depth 134217728 -width 1024 -ports 8 
defZRMBank -loc U0_M0_F11 -depth 67108864 -width 256 -ports 8 
zrm_partitioning -algo AA -perf_mode on -tgt_freq 10.000000 -group_zrm_with_controllers on
